# 金融业务架构经验总结

---

###设计架构经验:

 - 支付 
 - 资金账户系统

###业务场景有开发经验

 - 对账户模型 
 - 支付
 - 交易 
 - 退款 
 - 掉单 
 - 对账 
 - 补录

等等

####对账户模型
####掉单 
 所谓掉单：用户A在第三方（银行/支付公司）支付了，然后在自身系统没有得到更新到用户的资产。
 可能原因：第三方一般会一次同步回调或者多次异步回调不成功导致。要么网络有延时或者丢包导致第三方与自身系统网络通讯不成功，要么通知到了，但没处理好，或者没及时处理。
 解决方案：
 - 找出未及时处理的原因，fix 之
 - 自身支付服务，接受到回调后，更多次的给自身系统提供多次异步回调。－－降低错过的概率，对于部分第三方支付异步回调次数偏少，异步回调时间间隔偏短的问题
 - 搭建自己的DNS服务或者 DDNS ，并部署多机房。
 - 自身主动想第三方查询支付结果，询问支付创建但未完成的支付流水。



参考：
连连支付文档
PayPalm支付文档
支付宝文档
支付宝架构
点融网架构





